<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File & Image Utility | Resizer & Fixer</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet">

    <!-- PDF Lib -->
    <script src="https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>

    <!-- Styles -->
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="app-background">
        <div class="blob blob-1"></div>
        <div class="blob blob-2"></div>
        <div class="blob blob-3"></div>
    </div>

    <div class="container">
        <header>
            <h1>File Utility Kit</h1>
            <p>Secure, offline tools for your daily needs.</p>
        </header>

        <nav class="feature-menu">
            <button class="feature-btn active" data-tab="resizer">
                <span class="icon">üñºÔ∏è</span>
                <span class="text">Image Resizer</span>
            </button>
            <button class="feature-btn" data-tab="fixer">
                <span class="icon">üß©</span>
                <span class="text">Extension Fixer</span>
            </button>
            <button class="feature-btn" data-tab="merger">
                <span class="icon">üìë</span>
                <span class="text">PDF Merger</span>
            </button>
        </nav>

        <main class="content-area glass">
            <!-- Image Resizer Section -->
            <section id="resizer" class="tab-content active">
                <div class="upload-zone" id="resizer-drop-zone">
                    <div class="icon-large">üñºÔ∏è</div>
                    <h3>Drag & Drop Image</h3>
                    <p>or click to browse (JPG, PNG, WEBP)</p>
                    <input type="file" id="resizer-input" accept="image/png, image/jpeg, image/webp" hidden>
                </div>

                <div class="workspace hidden" id="resizer-workspace">
                    <div class="preview-container">
                        <img id="image-preview" src="" alt="Preview">
                        <div class="file-info">
                            <span id="original-info">Original: -</span>
                        </div>
                    </div>

                    <div class="controls">
                        <div class="control-group">
                            <label>Width (px)</label>
                            <input type="number" id="resize-width" placeholder="Width">
                        </div>
                        <div class="control-group">
                            <label>Height (px)</label>
                            <input type="number" id="resize-height" placeholder="Height">
                        </div>
                        <div class="control-group">
                            <label>Lock Aspect Ratio</label>
                            <input type="checkbox" id="lock-ratio" checked>
                        </div>
                        <div class="control-group full-width">
                            <label>Quality (0.1 - 1.0)</label>
                            <input type="range" id="resize-quality" min="0.1" max="1" step="0.1" value="0.9">
                            <span id="quality-value">0.9</span>
                        </div>
                        <button id="download-btn" class="action-btn">Download Resized Image</button>
                        <button id="resize-reset-btn" class="action-btn secondary hidden"
                            style="margin-top: 1rem;">Resize Another Image</button>
                    </div>
                </div>
            </section>

            <!-- Extension Fixer Section -->
            <section id="fixer" class="tab-content">
                <div class="upload-zone" id="fixer-drop-zone">
                    <div class="icon-large">üß©</div>
                    <h3>Drag & Drop File</h3>
                    <p>or click to browse (Any file with missing/wrong extension)</p>
                    <input type="file" id="fixer-input" hidden>
                </div>

                <div class="workspace hidden" id="fixer-workspace">
                    <div class="result-card">
                        <div class="status-icon" id="fixer-icon">‚ùì</div>
                        <div class="result-details">
                            <h4>Detected Format: <span id="detected-format">Analyzing...</span></h4>
                            <p id="fixer-message">Hold tight, checking magic bytes...</p>
                        </div>
                    </div>
                    <button id="fix-download-btn" class="action-btn hidden">Fix & Download</button>
                </div>
            </section>

            <!-- PDF Merger Section -->
            <section id="merger" class="tab-content">
                <div class="upload-zone" id="merger-drop-zone">
                    <div class="icon-large">üìë</div>
                    <h3>Drag & Drop PDFs</h3>
                    <p>or click to browse (Select multiple PDFs)</p>
                    <input type="file" id="merger-input" accept="application/pdf" multiple hidden>
                </div>

                <div class="workspace hidden" id="merger-workspace">
                    <div class="file-list-container">
                        <h4>Files to Merge:</h4>
                        <ul id="merger-file-list" class="file-list"></ul>
                    </div>
                    <button id="merge-btn" class="action-btn">Merge PDFs</button>
                    <button id="merger-reset-btn" class="action-btn secondary hidden" style="margin-top: 1rem;">Merge
                        Another Batch</button>
                </div>
            </section>
        </main>
    </div>

    <script src="app.js"></script>
</body>

</html>
